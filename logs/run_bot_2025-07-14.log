2025-07-14 00:58:30,869 - OrderManager - INFO - Loaded 0 active orders from database
2025-07-14 00:58:30,882 - PositionManager - INFO - Position collections initialized
2025-07-14 00:58:30,885 - PositionManager - INFO - Loaded 0 active positions from database
2025-07-14 00:58:30,888 - JigsawStrategy - INFO - Synced 0 active positions from position manager
2025-07-14 01:02:01,026 - BacktestRun_20250714_010201 - INFO - ================================================================================
2025-07-14 01:02:01,041 - BacktestRun_20250714_010201 - INFO - BACKTEST RUN ID: 20250714_010201
2025-07-14 01:02:01,041 - BacktestRun_20250714_010201 - INFO - Parameters: {'symbols': ['AAPL', 'NVDA'], 'timeframes': '1m', 'start_date': '2025-01-01', 'end_date': '2025-07-14', 'data_source': 'TradeStation'}
2025-07-14 01:02:01,045 - BacktestRun_20250714_010201 - INFO - Configuration: {'tickers': ['SPY', 'QQQ', 'TSLA', 'AAPL'], 'contracts_per_trade': 1, 'trailing_stop_method': 'Heiken Ashi Candle Trail (1-3 candle lookback)', 'no_trade_window_minutes': 3, 'auto_close_minutes': 15, 'cutoff_time': '15:15', 'ema_value': 15, 'failsafe_minutes': 20, 'adx_filter': True, 'adx_minimum': 20, 'news_filter': False, 'bb_width_threshold': 0.02, 'donchian_contraction_threshold': 0.6, 'volume_squeeze_threshold': 0.3, 'stop_loss_method': 'Fixed Percentage', 'atr_multiple': 1.5, 'fixed_stop_percentage': 8.0, 'auto_trading_enabled': True, 'stochastic_k_period': 5, 'stochastic_d_period': 3, 'stochastic_smooth': 2, 'volume_spike_threshold': 1.5, 'liquidity_min_volume': 1000000, 'liquidity_min_oi': 500, 'liquidity_max_spread': 0.1, 'use_mag7_confirmation': True, 'sector_etfs': ['XLK', 'XLF', 'XLV', 'XLY'], 'sector_weight_threshold': 43, 'sector_weights': {'XLK': 32, 'XLF': 14, 'XLV': 11, 'XLY': 11}, 'mag7_stocks': ['AAPL', 'MSFT', 'AMZN', 'NVDA', 'GOOG', 'TSLA', 'META'], 'mag7_threshold': 60, 'mag7_price_change_threshold': 0.1, 'mag7_min_aligned': 5}
2025-07-14 01:02:01,045 - BacktestRun_20250714_010201 - INFO - ================================================================================
2025-07-14 01:02:01,378 - CandleDataClient - INFO - Fetching 194 days of 1m data from 2025-01-01 to 2025-07-14
2025-07-14 01:02:05,000 - TradeStationDataFetcher - ERROR - API request failed: 400 {"Error":"BadRequest","Message":"lastdate cannot be a future date."}
2025-07-14 01:02:05,005 - TradeStationDataFetcher - WARNING - No data returned for MSFT
2025-07-14 01:02:06,122 - TradeStationDataFetcher - ERROR - API request failed: 400 {"Error":"BadRequest","Message":"lastdate cannot be a future date."}
2025-07-14 01:02:06,122 - TradeStationDataFetcher - WARNING - No data returned for META
2025-07-14 01:02:07,327 - TradeStationDataFetcher - ERROR - API request failed: 400 {"Error":"BadRequest","Message":"lastdate cannot be a future date."}
2025-07-14 01:02:07,327 - TradeStationDataFetcher - WARNING - No data returned for TSLA
2025-07-14 01:02:08,542 - TradeStationDataFetcher - ERROR - API request failed: 400 {"Error":"BadRequest","Message":"lastdate cannot be a future date."}
2025-07-14 01:02:08,557 - TradeStationDataFetcher - WARNING - No data returned for AAPL
2025-07-14 01:02:09,721 - TradeStationDataFetcher - ERROR - API request failed: 400 {"Error":"BadRequest","Message":"lastdate cannot be a future date."}
2025-07-14 01:02:09,721 - TradeStationDataFetcher - WARNING - No data returned for AMZN
2025-07-14 01:02:10,815 - TradeStationDataFetcher - ERROR - API request failed: 400 {"Error":"BadRequest","Message":"lastdate cannot be a future date."}
2025-07-14 01:02:10,815 - TradeStationDataFetcher - WARNING - No data returned for NVDA
2025-07-14 01:02:12,148 - TradeStationDataFetcher - ERROR - API request failed: 400 {"Error":"BadRequest","Message":"lastdate cannot be a future date."}
2025-07-14 01:02:12,148 - TradeStationDataFetcher - WARNING - No data returned for GOOG
2025-07-14 01:02:12,182 - BacktestEngine - ERROR - Error in backtest for AAPL: Failed to fetch data for all symbols from TradeStation
2025-07-14 01:02:12,233 - CandleDataClient - INFO - Fetching 194 days of 1m data from 2025-01-01 to 2025-07-14
2025-07-14 01:02:15,380 - TradeStationDataFetcher - ERROR - API request failed: 400 {"Error":"BadRequest","Message":"lastdate cannot be a future date."}
2025-07-14 01:02:15,385 - TradeStationDataFetcher - WARNING - No data returned for MSFT
2025-07-14 01:02:16,651 - TradeStationDataFetcher - ERROR - API request failed: 400 {"Error":"BadRequest","Message":"lastdate cannot be a future date."}
2025-07-14 01:02:16,651 - TradeStationDataFetcher - WARNING - No data returned for META
2025-07-14 01:02:17,984 - TradeStationDataFetcher - ERROR - API request failed: 400 {"Error":"BadRequest","Message":"lastdate cannot be a future date."}
2025-07-14 01:02:17,984 - TradeStationDataFetcher - WARNING - No data returned for TSLA
2025-07-14 01:02:19,229 - TradeStationDataFetcher - ERROR - API request failed: 400 {"Error":"BadRequest","Message":"lastdate cannot be a future date."}
2025-07-14 01:02:19,229 - TradeStationDataFetcher - WARNING - No data returned for AAPL
2025-07-14 01:02:20,441 - TradeStationDataFetcher - ERROR - API request failed: 400 {"Error":"BadRequest","Message":"lastdate cannot be a future date."}
2025-07-14 01:02:20,445 - TradeStationDataFetcher - WARNING - No data returned for AMZN
2025-07-14 01:02:21,651 - TradeStationDataFetcher - ERROR - API request failed: 400 {"Error":"BadRequest","Message":"lastdate cannot be a future date."}
2025-07-14 01:02:21,651 - TradeStationDataFetcher - WARNING - No data returned for NVDA
2025-07-14 01:02:22,862 - TradeStationDataFetcher - ERROR - API request failed: 400 {"Error":"BadRequest","Message":"lastdate cannot be a future date."}
2025-07-14 01:02:22,862 - TradeStationDataFetcher - WARNING - No data returned for GOOG
2025-07-14 01:02:22,894 - BacktestEngine - ERROR - Error in backtest for NVDA: Failed to fetch data for all symbols from TradeStation
2025-07-14 01:19:08,209 - BacktestRun_20250714_011908 - INFO - ================================================================================
2025-07-14 01:19:08,209 - BacktestRun_20250714_011908 - INFO - BACKTEST RUN ID: 20250714_011908
2025-07-14 01:19:08,209 - BacktestRun_20250714_011908 - INFO - Parameters: {'symbols': ['AAPL', 'NVDA'], 'timeframes': '5m', 'start_date': '2025-06-01', 'end_date': '2025-07-14', 'data_source': 'YFinance'}
2025-07-14 01:19:08,215 - BacktestRun_20250714_011908 - INFO - Configuration: {'tickers': ['SPY', 'QQQ', 'TSLA', 'AAPL'], 'contracts_per_trade': 1, 'trailing_stop_method': 'Heiken Ashi Candle Trail (1-3 candle lookback)', 'no_trade_window_minutes': 3, 'auto_close_minutes': 15, 'cutoff_time': '15:15', 'ema_value': 15, 'failsafe_minutes': 20, 'adx_filter': True, 'adx_minimum': 20, 'news_filter': False, 'bb_width_threshold': 0.02, 'donchian_contraction_threshold': 0.6, 'volume_squeeze_threshold': 0.3, 'stop_loss_method': 'Fixed Percentage', 'atr_multiple': 1.5, 'fixed_stop_percentage': 8.0, 'auto_trading_enabled': True, 'stochastic_k_period': 5, 'stochastic_d_period': 3, 'stochastic_smooth': 2, 'volume_spike_threshold': 1.5, 'liquidity_min_volume': 1000000, 'liquidity_min_oi': 500, 'liquidity_max_spread': 0.1, 'use_mag7_confirmation': True, 'sector_etfs': ['XLK', 'XLF', 'XLV', 'XLY'], 'sector_weight_threshold': 43, 'sector_weights': {'XLK': 32, 'XLF': 14, 'XLV': 11, 'XLY': 11}, 'mag7_stocks': ['AAPL', 'MSFT', 'AMZN', 'NVDA', 'GOOG', 'TSLA', 'META'], 'mag7_threshold': 60, 'mag7_price_change_threshold': 0.1, 'mag7_min_aligned': 5}
2025-07-14 01:19:08,216 - BacktestRun_20250714_011908 - INFO - ================================================================================
2025-07-14 01:19:08,608 - CandleDataClient - INFO - Fetching 43 days of 5m data from 2025-06-01 to 2025-07-14
2025-07-14 01:19:22,670 - CandleDataClient - INFO - Fetching 43 days of 5m data from 2025-06-01 to 2025-07-14
2025-07-14 01:19:22,790 - CandleDataClient - INFO - Loading cached data for MSFT
2025-07-14 01:19:23,216 - CandleDataClient - INFO - Loading cached data for META
2025-07-14 01:19:23,629 - CandleDataClient - INFO - Loading cached data for TSLA
2025-07-14 01:19:24,129 - CandleDataClient - INFO - Loading cached data for AAPL
2025-07-14 01:19:24,497 - CandleDataClient - INFO - Loading cached data for AMZN
2025-07-14 01:19:25,133 - CandleDataClient - INFO - Loading cached data for NVDA
2025-07-14 01:19:25,546 - CandleDataClient - INFO - Loading cached data for GOOG
2025-07-14 01:19:27,128 - BacktestEngine - INFO - Mag7 alignment at candle 100: 4 bullish (57.1%), 0 bearish (0.0%)
2025-07-14 01:19:27,687 - BacktestEngine - INFO - Mag7 alignment at candle 200: 5 bullish (71.4%), 0 bearish (0.0%)
2025-07-14 01:19:28,964 - BacktestEngine - INFO - Mag7 alignment at candle 300: 0 bullish (0.0%), 5 bearish (71.4%)
2025-07-14 01:19:29,508 - BacktestEngine - INFO - TRADE ENTERED at candle 391: BULLISH @ $205.37
2025-07-14 01:19:29,646 - BacktestEngine - INFO - Mag7 alignment at candle 400: 4 bullish (57.1%), 1 bearish (14.3%)
2025-07-14 01:19:29,908 - BacktestEngine - INFO - TRADE ENTERED at candle 427: BULLISH @ $204.41
2025-07-14 01:19:30,444 - BacktestEngine - INFO - Mag7 alignment at candle 500: 3 bullish (42.9%), 1 bearish (14.3%)
2025-07-14 01:19:31,054 - BacktestEngine - INFO - Mag7 alignment at candle 600: 0 bullish (0.0%), 7 bearish (100.0%)
2025-07-14 01:19:31,566 - BacktestEngine - INFO - TRADE ENTERED at candle 698: BEARISH @ $198.62
2025-07-14 01:19:31,582 - BacktestEngine - INFO - Mag7 alignment at candle 700: 0 bullish (0.0%), 4 bearish (57.1%)
2025-07-14 01:19:32,366 - BacktestEngine - INFO - Mag7 alignment at candle 800: 3 bullish (42.9%), 1 bearish (14.3%)
2025-07-14 01:19:32,928 - BacktestEngine - INFO - Mag7 alignment at candle 900: 0 bullish (0.0%), 4 bearish (57.1%)
2025-07-14 01:19:33,651 - BacktestEngine - INFO - Mag7 alignment at candle 1000: 0 bullish (0.0%), 7 bearish (100.0%)
2025-07-14 01:19:34,100 - BacktestEngine - INFO - TRADE ENTERED at candle 1062: BEARISH @ $198.43
2025-07-14 01:19:34,426 - BacktestEngine - INFO - Mag7 alignment at candle 1100: 5 bullish (71.4%), 0 bearish (0.0%)
2025-07-14 01:19:35,333 - BacktestEngine - INFO - Mag7 alignment at candle 1200: 0 bullish (0.0%), 2 bearish (28.6%)
2025-07-14 01:19:36,043 - BacktestEngine - INFO - Mag7 alignment at candle 1300: 0 bullish (0.0%), 3 bearish (42.9%)
2025-07-14 01:19:36,642 - BacktestEngine - INFO - Mag7 alignment at candle 1400: 1 bullish (14.3%), 2 bearish (28.6%)
2025-07-14 01:19:37,279 - BacktestEngine - INFO - Mag7 alignment at candle 1500: 3 bullish (42.9%), 2 bearish (28.6%)
2025-07-14 01:19:37,920 - BacktestEngine - INFO - Mag7 alignment at candle 1600: 6 bullish (85.7%), 1 bearish (14.3%)
2025-07-14 01:19:38,552 - BacktestEngine - INFO - Mag7 alignment at candle 1700: 0 bullish (0.0%), 1 bearish (14.3%)
2025-07-14 01:19:39,256 - BacktestEngine - INFO - TRADE ENTERED at candle 1789: BULLISH @ $212.02
2025-07-14 01:19:39,320 - BacktestEngine - INFO - Mag7 alignment at candle 1800: 0 bullish (0.0%), 1 bearish (14.3%)
2025-07-14 01:19:39,982 - BacktestEngine - INFO - Mag7 alignment at candle 1900: 0 bullish (0.0%), 2 bearish (28.6%)
2025-07-14 01:19:41,266 - BacktestEngine - INFO - Mag7 alignment at candle 2000: 4 bullish (57.1%), 3 bearish (42.9%)
2025-07-14 01:19:42,405 - BacktestEngine - INFO - Mag7 alignment at candle 2100: 1 bullish (14.3%), 1 bearish (14.3%)
2025-07-14 01:19:43,108 - BacktestEngine_20250714_011908 - INFO - 
Backtest Summary for AAPL:
2025-07-14 01:19:43,108 - BacktestEngine_20250714_011908 - INFO -   Period: 5m
2025-07-14 01:19:43,108 - BacktestEngine_20250714_011908 - INFO -   Date Range: 2025-06-01 to 2025-07-14
2025-07-14 01:19:43,108 - BacktestEngine_20250714_011908 - INFO -   Total Candles: 2148
2025-07-14 01:19:43,116 - BacktestEngine_20250714_011908 - INFO -   Strategy: Magnificent 7 (Mag7)
2025-07-14 01:19:43,117 - BacktestEngine_20250714_011908 - INFO -   Alignment Count: 449
2025-07-14 01:19:43,117 - BacktestEngine_20250714_011908 - INFO -   Compression Count: 57
2025-07-14 01:19:43,117 - BacktestEngine_20250714_011908 - INFO -   Entry Signals: 5
2025-07-14 01:19:43,121 - BacktestEngine_20250714_011908 - INFO -   Trades Entered: 5
2025-07-14 01:19:43,451 - BacktestEngine - INFO - Saved mag7 analysis to C:\Users\krishna gupta\Desktop\Project\T_bot\Backtest_Data\Analysis\20250714_011908_AAPL_5min_mag7_analysis.csv
2025-07-14 01:19:43,451 - BacktestEngine_20250714_011908 - INFO - Mag7 analysis saved: C:\Users\krishna gupta\Desktop\Project\T_bot\Backtest_Data\Analysis\20250714_011908_AAPL_5min_mag7_analysis.csv (2148 records)
2025-07-14 01:19:43,460 - BacktestEngine - INFO - Saved trades to C:\Users\krishna gupta\Desktop\Project\T_bot\Backtest_Data\Results\Trades\20250714_011908_trades_AAPL_5min.csv
2025-07-14 01:19:43,460 - BacktestEngine_20250714_011908 - INFO - Trades saved: C:\Users\krishna gupta\Desktop\Project\T_bot\Backtest_Data\Results\Trades\20250714_011908_trades_AAPL_5min.csv (5 trades)
2025-07-14 01:19:43,523 - CandleDataClient - INFO - Fetching 43 days of 5m data from 2025-06-01 to 2025-07-14
2025-07-14 01:19:43,534 - CandleDataClient - INFO - Loading cached data for MSFT
2025-07-14 01:19:43,908 - CandleDataClient - INFO - Loading cached data for META
2025-07-14 01:19:44,259 - CandleDataClient - INFO - Loading cached data for TSLA
2025-07-14 01:19:44,578 - CandleDataClient - INFO - Loading cached data for AAPL
2025-07-14 01:19:44,922 - CandleDataClient - INFO - Loading cached data for AMZN
2025-07-14 01:19:45,227 - CandleDataClient - INFO - Loading cached data for NVDA
2025-07-14 01:19:45,588 - CandleDataClient - INFO - Loading cached data for GOOG
2025-07-14 01:19:45,926 - CandleDataClient - INFO - Fetching 43 days of 5m data from 2025-06-01 to 2025-07-14
2025-07-14 01:19:45,937 - CandleDataClient - INFO - Loading cached data for MSFT
2025-07-14 01:19:46,268 - CandleDataClient - INFO - Loading cached data for META
2025-07-14 01:19:46,657 - CandleDataClient - INFO - Loading cached data for TSLA
2025-07-14 01:19:47,360 - CandleDataClient - INFO - Loading cached data for AAPL
2025-07-14 01:19:47,777 - CandleDataClient - INFO - Loading cached data for AMZN
2025-07-14 01:19:48,111 - CandleDataClient - INFO - Loading cached data for NVDA
2025-07-14 01:19:48,471 - CandleDataClient - INFO - Loading cached data for GOOG
2025-07-14 01:19:49,602 - BacktestEngine - INFO - Mag7 alignment at candle 100: 4 bullish (57.1%), 0 bearish (0.0%)
2025-07-14 01:19:50,137 - BacktestEngine - INFO - Mag7 alignment at candle 200: 5 bullish (71.4%), 0 bearish (0.0%)
2025-07-14 01:19:50,779 - BacktestEngine - INFO - Mag7 alignment at candle 300: 0 bullish (0.0%), 5 bearish (71.4%)
2025-07-14 01:19:51,292 - BacktestEngine - INFO - Mag7 alignment at candle 400: 4 bullish (57.1%), 1 bearish (14.3%)
2025-07-14 01:19:51,886 - BacktestEngine - INFO - Mag7 alignment at candle 500: 3 bullish (42.9%), 1 bearish (14.3%)
2025-07-14 01:19:52,504 - BacktestEngine - INFO - Mag7 alignment at candle 600: 0 bullish (0.0%), 7 bearish (100.0%)
2025-07-14 01:19:53,053 - BacktestEngine - INFO - TRADE ENTERED at candle 659: BULLISH @ $144.45
2025-07-14 01:19:53,202 - BacktestEngine - INFO - TRADE ENTERED at candle 672: BULLISH @ $144.49
2025-07-14 01:19:53,528 - BacktestEngine - INFO - Mag7 alignment at candle 700: 0 bullish (0.0%), 4 bearish (57.1%)
2025-07-14 01:19:54,410 - BacktestEngine - INFO - Mag7 alignment at candle 800: 3 bullish (42.9%), 1 bearish (14.3%)
2025-07-14 01:19:55,091 - BacktestEngine - INFO - Mag7 alignment at candle 900: 0 bullish (0.0%), 4 bearish (57.1%)
2025-07-14 01:19:55,737 - BacktestEngine - INFO - Mag7 alignment at candle 1000: 0 bullish (0.0%), 7 bearish (100.0%)
2025-07-14 01:19:56,126 - BacktestEngine - INFO - TRADE ENTERED at candle 1067: BULLISH @ $143.86
2025-07-14 01:19:56,404 - BacktestEngine - INFO - Mag7 alignment at candle 1100: 5 bullish (71.4%), 0 bearish (0.0%)
2025-07-14 01:19:57,033 - BacktestEngine - INFO - Mag7 alignment at candle 1200: 0 bullish (0.0%), 2 bearish (28.6%)
2025-07-14 01:19:57,113 - BacktestEngine - INFO - TRADE ENTERED at candle 1208: BULLISH @ $147.35
2025-07-14 01:19:57,707 - BacktestEngine - INFO - Mag7 alignment at candle 1300: 0 bullish (0.0%), 3 bearish (42.9%)
2025-07-14 01:19:58,188 - BacktestEngine - INFO - Mag7 alignment at candle 1400: 1 bullish (14.3%), 2 bearish (28.6%)
2025-07-14 01:19:58,782 - BacktestEngine - INFO - Mag7 alignment at candle 1500: 3 bullish (42.9%), 2 bearish (28.6%)
2025-07-14 01:19:59,853 - BacktestEngine - INFO - TRADE ENTERED at candle 1599: BULLISH @ $154.01
2025-07-14 01:19:59,926 - BacktestEngine - INFO - Mag7 alignment at candle 1600: 6 bullish (85.7%), 1 bearish (14.3%)
2025-07-14 01:19:59,936 - BacktestEngine - INFO - TRADE ENTERED at candle 1600: BULLISH @ $154.55
2025-07-14 01:20:00,516 - BacktestEngine - INFO - Mag7 alignment at candle 1700: 0 bullish (0.0%), 1 bearish (14.3%)
2025-07-14 01:20:01,116 - BacktestEngine - INFO - Mag7 alignment at candle 1800: 0 bullish (0.0%), 1 bearish (14.3%)
2025-07-14 01:20:01,399 - BacktestEngine - INFO - TRADE ENTERED at candle 1867: BULLISH @ $159.38
2025-07-14 01:20:01,593 - BacktestEngine - INFO - Mag7 alignment at candle 1900: 0 bullish (0.0%), 2 bearish (28.6%)
2025-07-14 01:20:01,878 - BacktestEngine - INFO - TRADE ENTERED at candle 1936: BULLISH @ $163.33
2025-07-14 01:20:02,331 - BacktestEngine - INFO - Mag7 alignment at candle 2000: 4 bullish (57.1%), 3 bearish (42.9%)
2025-07-14 01:20:03,020 - BacktestEngine - INFO - Mag7 alignment at candle 2100: 1 bullish (14.3%), 1 bearish (14.3%)
2025-07-14 01:20:03,300 - BacktestEngine_20250714_011908 - INFO - 
Backtest Summary for NVDA:
2025-07-14 01:20:03,305 - BacktestEngine_20250714_011908 - INFO -   Period: 5m
2025-07-14 01:20:03,305 - BacktestEngine_20250714_011908 - INFO -   Date Range: 2025-06-01 to 2025-07-14
2025-07-14 01:20:03,305 - BacktestEngine_20250714_011908 - INFO -   Total Candles: 2148
2025-07-14 01:20:03,305 - BacktestEngine_20250714_011908 - INFO -   Strategy: Magnificent 7 (Mag7)
2025-07-14 01:20:03,305 - BacktestEngine_20250714_011908 - INFO -   Alignment Count: 449
2025-07-14 01:20:03,305 - BacktestEngine_20250714_011908 - INFO -   Compression Count: 47
2025-07-14 01:20:03,305 - BacktestEngine_20250714_011908 - INFO -   Entry Signals: 8
2025-07-14 01:20:03,305 - BacktestEngine_20250714_011908 - INFO -   Trades Entered: 8
2025-07-14 01:20:03,568 - BacktestEngine - INFO - Saved mag7 analysis to C:\Users\krishna gupta\Desktop\Project\T_bot\Backtest_Data\Analysis\20250714_011908_NVDA_5min_mag7_analysis.csv
2025-07-14 01:20:03,568 - BacktestEngine_20250714_011908 - INFO - Mag7 analysis saved: C:\Users\krishna gupta\Desktop\Project\T_bot\Backtest_Data\Analysis\20250714_011908_NVDA_5min_mag7_analysis.csv (2148 records)
2025-07-14 01:20:03,581 - BacktestEngine - INFO - Saved trades to C:\Users\krishna gupta\Desktop\Project\T_bot\Backtest_Data\Results\Trades\20250714_011908_trades_NVDA_5min.csv
2025-07-14 01:20:03,582 - BacktestEngine_20250714_011908 - INFO - Trades saved: C:\Users\krishna gupta\Desktop\Project\T_bot\Backtest_Data\Results\Trades\20250714_011908_trades_NVDA_5min.csv (8 trades)
2025-07-14 01:35:01,423 - OrderManager - INFO - Loaded 0 active orders from database
2025-07-14 01:35:01,436 - PositionManager - INFO - Position collections initialized
2025-07-14 01:35:01,438 - PositionManager - INFO - Loaded 0 active positions from database
2025-07-14 01:35:01,439 - JigsawStrategy - INFO - Synced 0 active positions from position manager
2025-07-14 01:36:40,054 - BacktestRun_20250714_013640 - INFO - ================================================================================
2025-07-14 01:36:40,055 - BacktestRun_20250714_013640 - INFO - BACKTEST RUN ID: 20250714_013640
2025-07-14 01:36:40,057 - BacktestRun_20250714_013640 - INFO - Parameters: {'symbols': ['AAPL', 'NVDA'], 'timeframes': '1m', 'start_date': '2025-01-01', 'end_date': '2025-07-14', 'data_source': 'TradeStation'}
2025-07-14 01:36:40,059 - BacktestRun_20250714_013640 - INFO - Configuration: {'tickers': ['SPY', 'QQQ', 'TSLA', 'AAPL'], 'contracts_per_trade': 1, 'trailing_stop_method': 'Heiken Ashi Candle Trail (1-3 candle lookback)', 'no_trade_window_minutes': 3, 'auto_close_minutes': 15, 'cutoff_time': '15:15', 'ema_value': 15, 'failsafe_minutes': 20, 'adx_filter': True, 'adx_minimum': 20, 'news_filter': False, 'bb_width_threshold': 0.02, 'donchian_contraction_threshold': 0.6, 'volume_squeeze_threshold': 0.3, 'stop_loss_method': 'ATR Multiple', 'atr_multiple': 5.0, 'fixed_stop_percentage': 8.0, 'auto_trading_enabled': True, 'stochastic_k_period': 5, 'stochastic_d_period': 3, 'stochastic_smooth': 2, 'volume_spike_threshold': 1.5, 'liquidity_min_volume': 1000000, 'liquidity_min_oi': 500, 'liquidity_max_spread': 0.1, 'use_mag7_confirmation': True, 'sector_etfs': ['XLK', 'XLF', 'XLV', 'XLY'], 'sector_weight_threshold': 43, 'sector_weights': {'XLK': 32, 'XLF': 14, 'XLV': 11, 'XLY': 11}, 'mag7_stocks': ['AAPL', 'MSFT', 'AMZN', 'NVDA', 'GOOG', 'TSLA', 'META'], 'mag7_threshold': 60, 'mag7_price_change_threshold': 0.1, 'mag7_min_aligned': 5}
2025-07-14 01:36:40,070 - BacktestRun_20250714_013640 - INFO - ================================================================================
2025-07-14 01:36:40,581 - CandleDataClient - INFO - Fetching 194 days of 1m data from 2025-01-01 to 2025-07-14
2025-07-14 01:37:58,433 - OrderManager - INFO - Loaded 0 active orders from database
2025-07-14 01:37:58,447 - PositionManager - INFO - Position collections initialized
2025-07-14 01:37:58,453 - PositionManager - INFO - Loaded 0 active positions from database
2025-07-14 01:37:58,458 - JigsawStrategy - INFO - Synced 0 active positions from position manager
2025-07-14 01:38:15,067 - BacktestRun_20250714_013815 - INFO - ================================================================================
2025-07-14 01:38:15,068 - BacktestRun_20250714_013815 - INFO - BACKTEST RUN ID: 20250714_013815
2025-07-14 01:38:15,068 - BacktestRun_20250714_013815 - INFO - Parameters: {'symbols': ['AAPL', 'NVDA'], 'timeframes': '5m', 'start_date': '2025-06-01', 'end_date': '2025-07-14', 'data_source': 'YFinance'}
2025-07-14 01:38:15,070 - BacktestRun_20250714_013815 - INFO - Configuration: {'tickers': ['SPY', 'QQQ', 'TSLA', 'AAPL'], 'contracts_per_trade': 1, 'trailing_stop_method': 'Heiken Ashi Candle Trail (1-3 candle lookback)', 'no_trade_window_minutes': 3, 'auto_close_minutes': 15, 'cutoff_time': '15:15', 'ema_value': 15, 'failsafe_minutes': 20, 'adx_filter': True, 'adx_minimum': 20, 'news_filter': False, 'bb_width_threshold': 0.02, 'donchian_contraction_threshold': 0.6, 'volume_squeeze_threshold': 0.3, 'stop_loss_method': 'ATR Multiple', 'atr_multiple': 5.0, 'fixed_stop_percentage': 8.0, 'auto_trading_enabled': True, 'stochastic_k_period': 5, 'stochastic_d_period': 3, 'stochastic_smooth': 2, 'volume_spike_threshold': 1.5, 'liquidity_min_volume': 1000000, 'liquidity_min_oi': 500, 'liquidity_max_spread': 0.1, 'use_mag7_confirmation': True, 'sector_etfs': ['XLK', 'XLF', 'XLV', 'XLY'], 'sector_weight_threshold': 43, 'sector_weights': {'XLK': 32, 'XLF': 14, 'XLV': 11, 'XLY': 11}, 'mag7_stocks': ['AAPL', 'MSFT', 'AMZN', 'NVDA', 'GOOG', 'TSLA', 'META'], 'mag7_threshold': 60, 'mag7_price_change_threshold': 0.1, 'mag7_min_aligned': 5}
2025-07-14 01:38:15,071 - BacktestRun_20250714_013815 - INFO - ================================================================================
2025-07-14 01:38:15,244 - CandleDataClient - INFO - Fetching 43 days of 5m data from 2025-06-01 to 2025-07-14
2025-07-14 01:38:21,700 - CandleDataClient - INFO - Fetching 43 days of 5m data from 2025-06-01 to 2025-07-14
2025-07-14 01:38:21,707 - CandleDataClient - INFO - Loading cached data for MSFT
2025-07-14 01:38:22,136 - CandleDataClient - INFO - Loading cached data for META
2025-07-14 01:38:22,486 - CandleDataClient - INFO - Loading cached data for GOOG
2025-07-14 01:38:22,797 - CandleDataClient - INFO - Loading cached data for AMZN
2025-07-14 01:38:23,104 - CandleDataClient - INFO - Loading cached data for AAPL
2025-07-14 01:38:23,366 - CandleDataClient - INFO - Loading cached data for TSLA
2025-07-14 01:38:23,723 - CandleDataClient - INFO - Loading cached data for NVDA
2025-07-14 01:38:25,102 - BacktestEngine - INFO - Mag7 alignment at candle 100: 4 bullish (57.1%), 0 bearish (0.0%)
2025-07-14 01:38:25,771 - BacktestEngine - INFO - Mag7 alignment at candle 200: 5 bullish (71.4%), 0 bearish (0.0%)
2025-07-14 01:38:26,276 - BacktestEngine - INFO - Mag7 alignment at candle 300: 0 bullish (0.0%), 5 bearish (71.4%)
2025-07-14 01:38:26,762 - BacktestEngine - INFO - TRADE ENTERED at candle 391: BULLISH @ $205.37
2025-07-14 01:38:26,829 - BacktestEngine - INFO - Mag7 alignment at candle 400: 4 bullish (57.1%), 1 bearish (14.3%)
2025-07-14 01:38:26,959 - BacktestEngine - INFO - TRADE ENTERED at candle 427: BULLISH @ $204.41
2025-07-14 01:38:27,456 - BacktestEngine - INFO - Mag7 alignment at candle 500: 3 bullish (42.9%), 1 bearish (14.3%)
2025-07-14 01:38:28,377 - BacktestEngine - INFO - Mag7 alignment at candle 600: 0 bullish (0.0%), 7 bearish (100.0%)
2025-07-14 01:38:28,891 - BacktestEngine - INFO - TRADE ENTERED at candle 698: BEARISH @ $198.62
2025-07-14 01:38:28,976 - BacktestEngine - INFO - Mag7 alignment at candle 700: 0 bullish (0.0%), 4 bearish (57.1%)
2025-07-14 01:38:29,573 - BacktestEngine - INFO - Mag7 alignment at candle 800: 3 bullish (42.9%), 1 bearish (14.3%)
2025-07-14 01:38:30,125 - BacktestEngine - INFO - Mag7 alignment at candle 900: 0 bullish (0.0%), 4 bearish (57.1%)
2025-07-14 01:38:30,709 - BacktestEngine - INFO - Mag7 alignment at candle 1000: 0 bullish (0.0%), 7 bearish (100.0%)
2025-07-14 01:38:31,250 - BacktestEngine - INFO - TRADE ENTERED at candle 1062: BEARISH @ $198.43
2025-07-14 01:38:31,631 - BacktestEngine - INFO - Mag7 alignment at candle 1100: 5 bullish (71.4%), 0 bearish (0.0%)
2025-07-14 01:38:32,287 - BacktestEngine - INFO - Mag7 alignment at candle 1200: 0 bullish (0.0%), 2 bearish (28.6%)
2025-07-14 01:38:33,140 - BacktestEngine - INFO - Mag7 alignment at candle 1300: 0 bullish (0.0%), 3 bearish (42.9%)
2025-07-14 01:38:34,274 - BacktestEngine - INFO - Mag7 alignment at candle 1400: 1 bullish (14.3%), 2 bearish (28.6%)
2025-07-14 01:38:35,159 - BacktestEngine - INFO - Mag7 alignment at candle 1500: 3 bullish (42.9%), 2 bearish (28.6%)
2025-07-14 01:38:36,115 - BacktestEngine - INFO - Mag7 alignment at candle 1600: 6 bullish (85.7%), 1 bearish (14.3%)
2025-07-14 01:38:37,087 - BacktestEngine - INFO - Mag7 alignment at candle 1700: 0 bullish (0.0%), 1 bearish (14.3%)
2025-07-14 01:38:37,961 - BacktestEngine - INFO - TRADE ENTERED at candle 1789: BULLISH @ $212.02
2025-07-14 01:38:38,088 - BacktestEngine - INFO - Mag7 alignment at candle 1800: 0 bullish (0.0%), 1 bearish (14.3%)
2025-07-14 01:38:39,047 - BacktestEngine - INFO - Mag7 alignment at candle 1900: 0 bullish (0.0%), 2 bearish (28.6%)
2025-07-14 01:38:40,265 - BacktestEngine - INFO - Mag7 alignment at candle 2000: 4 bullish (57.1%), 3 bearish (42.9%)
2025-07-14 01:38:41,350 - BacktestEngine - INFO - Mag7 alignment at candle 2100: 1 bullish (14.3%), 1 bearish (14.3%)
2025-07-14 01:38:41,663 - BacktestEngine_20250714_013815 - INFO - 
Backtest Summary for AAPL:
2025-07-14 01:38:41,663 - BacktestEngine_20250714_013815 - INFO -   Period: 5m
2025-07-14 01:38:41,663 - BacktestEngine_20250714_013815 - INFO -   Date Range: 2025-06-01 to 2025-07-14
2025-07-14 01:38:41,667 - BacktestEngine_20250714_013815 - INFO -   Total Candles: 2148
2025-07-14 01:38:41,668 - BacktestEngine_20250714_013815 - INFO -   Strategy: Magnificent 7 (Mag7)
2025-07-14 01:38:41,668 - BacktestEngine_20250714_013815 - INFO -   Alignment Count: 449
2025-07-14 01:38:41,669 - BacktestEngine_20250714_013815 - INFO -   Compression Count: 57
2025-07-14 01:38:41,671 - BacktestEngine_20250714_013815 - INFO -   Entry Signals: 5
2025-07-14 01:38:41,671 - BacktestEngine_20250714_013815 - INFO -   Trades Entered: 5
2025-07-14 01:38:41,910 - BacktestEngine - INFO - Saved mag7 analysis to C:\Users\krishna gupta\Desktop\Project\T_bot\Backtest_Data\Analysis\20250714_013815_AAPL_5min_mag7_analysis.csv
2025-07-14 01:38:41,910 - BacktestEngine_20250714_013815 - INFO - Mag7 analysis saved: C:\Users\krishna gupta\Desktop\Project\T_bot\Backtest_Data\Analysis\20250714_013815_AAPL_5min_mag7_analysis.csv (2148 records)
2025-07-14 01:38:41,917 - BacktestEngine - INFO - Saved trades to C:\Users\krishna gupta\Desktop\Project\T_bot\Backtest_Data\Results\Trades\20250714_013815_trades_AAPL_5min.csv
2025-07-14 01:38:41,917 - BacktestEngine_20250714_013815 - INFO - Trades saved: C:\Users\krishna gupta\Desktop\Project\T_bot\Backtest_Data\Results\Trades\20250714_013815_trades_AAPL_5min.csv (5 trades)
2025-07-14 01:38:41,954 - CandleDataClient - INFO - Fetching 43 days of 5m data from 2025-06-01 to 2025-07-14
2025-07-14 01:38:41,956 - CandleDataClient - INFO - Loading cached data for MSFT
2025-07-14 01:38:42,280 - CandleDataClient - INFO - Loading cached data for META
2025-07-14 01:38:42,796 - CandleDataClient - INFO - Loading cached data for GOOG
2025-07-14 01:38:43,189 - CandleDataClient - INFO - Loading cached data for AMZN
2025-07-14 01:38:44,076 - CandleDataClient - INFO - Loading cached data for AAPL
2025-07-14 01:38:44,666 - CandleDataClient - INFO - Loading cached data for TSLA
2025-07-14 01:38:45,214 - CandleDataClient - INFO - Loading cached data for NVDA
2025-07-14 01:38:45,819 - CandleDataClient - INFO - Fetching 43 days of 5m data from 2025-06-01 to 2025-07-14
2025-07-14 01:38:45,823 - CandleDataClient - INFO - Loading cached data for MSFT
2025-07-14 01:38:46,392 - CandleDataClient - INFO - Loading cached data for META
2025-07-14 01:38:46,972 - CandleDataClient - INFO - Loading cached data for GOOG
2025-07-14 01:38:47,644 - CandleDataClient - INFO - Loading cached data for AMZN
2025-07-14 01:38:48,262 - CandleDataClient - INFO - Loading cached data for AAPL
2025-07-14 01:38:48,803 - CandleDataClient - INFO - Loading cached data for TSLA
2025-07-14 01:38:49,407 - CandleDataClient - INFO - Loading cached data for NVDA
2025-07-14 01:38:51,197 - BacktestEngine - INFO - Mag7 alignment at candle 100: 4 bullish (57.1%), 0 bearish (0.0%)
2025-07-14 01:38:52,119 - BacktestEngine - INFO - Mag7 alignment at candle 200: 5 bullish (71.4%), 0 bearish (0.0%)
2025-07-14 01:38:53,341 - BacktestEngine - INFO - Mag7 alignment at candle 300: 0 bullish (0.0%), 5 bearish (71.4%)
2025-07-14 01:38:54,503 - BacktestEngine - INFO - Mag7 alignment at candle 400: 4 bullish (57.1%), 1 bearish (14.3%)
2025-07-14 01:38:55,408 - BacktestEngine - INFO - Mag7 alignment at candle 500: 3 bullish (42.9%), 1 bearish (14.3%)
2025-07-14 01:38:56,386 - BacktestEngine - INFO - Mag7 alignment at candle 600: 0 bullish (0.0%), 7 bearish (100.0%)
2025-07-14 01:38:56,949 - BacktestEngine - INFO - TRADE ENTERED at candle 659: BULLISH @ $144.45
2025-07-14 01:38:57,088 - BacktestEngine - INFO - TRADE ENTERED at candle 672: BULLISH @ $144.49
2025-07-14 01:38:57,423 - BacktestEngine - INFO - Mag7 alignment at candle 700: 0 bullish (0.0%), 4 bearish (57.1%)
2025-07-14 01:38:58,361 - BacktestEngine - INFO - Mag7 alignment at candle 800: 3 bullish (42.9%), 1 bearish (14.3%)
2025-07-14 01:38:59,633 - BacktestEngine - INFO - Mag7 alignment at candle 900: 0 bullish (0.0%), 4 bearish (57.1%)
2025-07-14 01:39:00,860 - BacktestEngine - INFO - Mag7 alignment at candle 1000: 0 bullish (0.0%), 7 bearish (100.0%)
2025-07-14 01:39:01,475 - BacktestEngine - INFO - TRADE ENTERED at candle 1067: BULLISH @ $143.86
2025-07-14 01:39:01,745 - BacktestEngine - INFO - Mag7 alignment at candle 1100: 5 bullish (71.4%), 0 bearish (0.0%)
2025-07-14 01:39:02,346 - BacktestEngine - INFO - Mag7 alignment at candle 1200: 0 bullish (0.0%), 2 bearish (28.6%)
2025-07-14 01:39:02,403 - BacktestEngine - INFO - TRADE ENTERED at candle 1208: BULLISH @ $147.35
2025-07-14 01:39:02,849 - BacktestEngine - INFO - Mag7 alignment at candle 1300: 0 bullish (0.0%), 3 bearish (42.9%)
2025-07-14 01:39:03,386 - BacktestEngine - INFO - Mag7 alignment at candle 1400: 1 bullish (14.3%), 2 bearish (28.6%)
2025-07-14 01:39:03,977 - BacktestEngine - INFO - Mag7 alignment at candle 1500: 3 bullish (42.9%), 2 bearish (28.6%)
2025-07-14 01:39:04,488 - BacktestEngine - INFO - TRADE ENTERED at candle 1599: BULLISH @ $154.01
2025-07-14 01:39:04,513 - BacktestEngine - INFO - Mag7 alignment at candle 1600: 6 bullish (85.7%), 1 bearish (14.3%)
2025-07-14 01:39:04,522 - BacktestEngine - INFO - TRADE ENTERED at candle 1600: BULLISH @ $154.55
2025-07-14 01:39:05,031 - BacktestEngine - INFO - Mag7 alignment at candle 1700: 0 bullish (0.0%), 1 bearish (14.3%)
2025-07-14 01:39:05,609 - BacktestEngine - INFO - Mag7 alignment at candle 1800: 0 bullish (0.0%), 1 bearish (14.3%)
2025-07-14 01:39:06,176 - BacktestEngine - INFO - TRADE ENTERED at candle 1867: BULLISH @ $159.38
2025-07-14 01:39:06,465 - BacktestEngine - INFO - Mag7 alignment at candle 1900: 0 bullish (0.0%), 2 bearish (28.6%)
2025-07-14 01:39:06,814 - BacktestEngine - INFO - TRADE ENTERED at candle 1936: BULLISH @ $163.33
2025-07-14 01:39:07,390 - BacktestEngine - INFO - Mag7 alignment at candle 2000: 4 bullish (57.1%), 3 bearish (42.9%)
2025-07-14 01:39:08,110 - BacktestEngine - INFO - Mag7 alignment at candle 2100: 1 bullish (14.3%), 1 bearish (14.3%)
2025-07-14 01:39:08,535 - BacktestEngine_20250714_013815 - INFO - 
Backtest Summary for NVDA:
2025-07-14 01:39:08,538 - BacktestEngine_20250714_013815 - INFO -   Period: 5m
2025-07-14 01:39:08,539 - BacktestEngine_20250714_013815 - INFO -   Date Range: 2025-06-01 to 2025-07-14
2025-07-14 01:39:08,539 - BacktestEngine_20250714_013815 - INFO -   Total Candles: 2148
2025-07-14 01:39:08,539 - BacktestEngine_20250714_013815 - INFO -   Strategy: Magnificent 7 (Mag7)
2025-07-14 01:39:08,539 - BacktestEngine_20250714_013815 - INFO -   Alignment Count: 449
2025-07-14 01:39:08,539 - BacktestEngine_20250714_013815 - INFO -   Compression Count: 47
2025-07-14 01:39:08,544 - BacktestEngine_20250714_013815 - INFO -   Entry Signals: 8
2025-07-14 01:39:08,544 - BacktestEngine_20250714_013815 - INFO -   Trades Entered: 8
2025-07-14 01:39:08,811 - BacktestEngine - INFO - Saved mag7 analysis to C:\Users\krishna gupta\Desktop\Project\T_bot\Backtest_Data\Analysis\20250714_013815_NVDA_5min_mag7_analysis.csv
2025-07-14 01:39:08,811 - BacktestEngine_20250714_013815 - INFO - Mag7 analysis saved: C:\Users\krishna gupta\Desktop\Project\T_bot\Backtest_Data\Analysis\20250714_013815_NVDA_5min_mag7_analysis.csv (2148 records)
2025-07-14 01:39:08,816 - BacktestEngine - INFO - Saved trades to C:\Users\krishna gupta\Desktop\Project\T_bot\Backtest_Data\Results\Trades\20250714_013815_trades_NVDA_5min.csv
2025-07-14 01:39:08,817 - BacktestEngine_20250714_013815 - INFO - Trades saved: C:\Users\krishna gupta\Desktop\Project\T_bot\Backtest_Data\Results\Trades\20250714_013815_trades_NVDA_5min.csv (8 trades)
